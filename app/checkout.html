{% extends "base.html" %}

{% block content %}
    <h2>Checkout</h2>
    {% for x in cart %} 
        <div class="card">
            <div class="card-body">
                <div class="card-title">
                    <h3><a href="{{ url_for('view_item', item_id=x.item_id) }}">{{ x.name }}</a></h3>
                </div>
                <p class="font-weight-bold">{{ x.brand }}</p>
                <p class="font-weight-bold">{{ x.price }}</p>
                <p class="small text-left">"Quantity:{{ x.quantity }}</p>
            </div>
        </div>
    {% endfor %} 
    <p class="font-weight-bold">
        <h3>Total amount= {{amount}}</h3>
    </p>
    <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
        <div class="row">
            <div class="form-group">
                <div class="col">
                    {{ form.cardno(placeholder="Card No.",size=20) }}
                    {% for error in form.cardno.errors %} 
                    <span style="color:red;">[{{error}}]</span>
                    {% endfor %}
                </div>
            </div>
            <div class="form-group">
            <div class="col">
                    {{ form.cvv(placeholder="CVV",size=10) }}
                    {% for error in form.cvv.errors %} 
                    <span style="color:red;">[{{error}}]</span>
                    {% endfor %}
                </div>
            </div>
        </div>
        <p>
            {% if amount>0 %}
                {{ form.submit(class="btn btn-primary") }}
            {% endif %}
        </p>
    </form>
{% endblock content %}